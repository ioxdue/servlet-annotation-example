/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */

rootProject.buildDir = 'WebContent'


task clean {
    println "elimina " + rootProject.buildDir
    delete rootProject.buildDir
}

task configure {
    println "creo cartelle vuote"
    new File("${rootProject.buildDir}/WEB-INF/classes/").mkdirs()
}

task build (type: Exec){
    println "compilo "
    dependsOn('copywebapp')
    executable = "javac"
    args = ["-cp", "lib/servlet-api.jar", "-d", "${rootProject.buildDir}/WEB-INF/classes/", "src/app/*.java"]
}

task copywebapp(type: Copy) {
    println "copio webapp da src "
    dependsOn('configure')
    from 'src/webapp'
    into rootProject.buildDir
    include('**/*.html', '**/*.xml')
}